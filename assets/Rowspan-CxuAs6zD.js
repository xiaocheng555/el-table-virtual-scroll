import{V as l}from"./el-table-virtual-column.vue_vue_type_style_index_0_lang-DGEt-6Pc.js";import{n as s}from"./index-Bm6L1sKK.js";import{m as i}from"./utils-4sfz355c.js";var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("virtual-scroll",{ref:"virtualScroll",attrs:{"key-prop":"id",data:t.list,"item-size":62,"row-span-key":t.getRowSpanKey},on:{change:function(o){return t.tableData=o}}},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","row-key":"id",height:"600px","span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{label:"分类",width:"150"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.row;return[a("span",[t._v("第"+t._s(n.cate)+"类别")])]}}])}),a("el-table-column",{attrs:{prop:"id",label:"id",width:"150"}}),a("el-table-column",{attrs:{prop:"cate",label:"cate值",width:"150"}}),a("el-table-column",{attrs:{prop:"text",label:"text",width:"500"}}),a("el-table-column",{attrs:{prop:"text2",label:"text2",width:"500"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.row;return[a("el-button",{on:{click:function(f){return t.onDel(n)}}},[t._v("删除")])]}}])})],1)],1)],1)},p=[];const d={components:{VirtualScroll:l},data(){return{list:i(0,2e3),tableData:[]}},methods:{handleListRowSpan(){let t;this.list.forEach(e=>{(t==null?void 0:t.cate)===e.cate?(t.rowspan++,e.rowspan=0):(e.rowspan=1,t=e)}),console.log(this.list.map(e=>e.rowspan),"合并")},objectSpanMethod({row:t,columnIndex:e}){if(e===0)return t.rowspan?{rowspan:t.rowspan,colspan:1}:{rowspan:0,colspan:0}},getRowSpanKey(t){return t.cate},onDel(t){const e=this.list.findIndex(a=>a===t);e>-1&&(this.list.splice(e,1),this.handleListRowSpan(),this.$refs.table.doLayout())}},created(){this.handleListRowSpan()}},r={};var u=s(d,c,p,!1,h,"009413b0");function h(t){for(let e in r)this[e]=r[e]}const m=function(){return u.exports}();export{m as default};
//# sourceMappingURL=Rowspan-CxuAs6zD.js.map
