{"version":3,"file":"js/39.7cf65e69.js","mappings":"yLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,WAAW,CAACI,SAAS,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQT,EAAIU,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAgB,KAAYZ,EAAIa,QAAQC,MAAM,KAAMC,UAAW,GAAEC,MAAM,CAACC,MAAOjB,EAAIkB,SAAUC,SAAS,SAAUC,GAAMpB,EAAIkB,SAASE,CAAI,EAACC,WAAW,eAAe,GAAGnB,EAAG,WAAW,CAACoB,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYP,MAAOjB,EAAIyB,QAASJ,WAAW,YAAYK,IAAI,WAAWtB,MAAM,CAAC,KAAOJ,EAAI2B,YAAY,OAAS,sBAAsB,yBAAwB,EAAK,kBAAkB3B,EAAI4B,WAAW,UAAU,KAAK,KAAO,GAAG,KAAO5B,EAAI6B,OAAO,aAAa,CAAEC,SAAU,WAAYC,YAAa,oBAAqB,CAAC7B,EAAG,kBAAkB,CAACwB,IAAI,gBAAgBtB,MAAM,CAAC,KAAO,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,SAAW,IAAI,MAAQ,MAAM,KAAO,cAAcF,EAAG,kBAAkB,CAACE,MAAM,CAAC,SAAW,IAAI,MAAQ,KAAK,KAAO,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,KAAK,KAAO,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,KAAK,KAAO,aAAa,IAAI,EACvoC,EACG4B,EAAkB,G,gjlzDCkDtB,GACAT,KAAAA,MACAU,WAAAA,CAAA,EAIAC,OACA,OACAC,UAAAA,GACAR,YAAAA,GACAC,WAAAA,CAAAA,aACAH,SAAAA,EACAW,aAAAA,GACAC,QAAAA,CAAAA,EACAC,mBAAAA,GACAC,iBAAAA,GACArB,SAAAA,GAEA,EACAsB,UACA,8CACA,eACA,EACAC,QAAAA,CACA5B,UACA6B,QAAAA,IAAAA,WACA,IACA,kCACAC,MAAAA,QAAAA,KAAAA,KAAAA,WAAAA,EAGA,CAFA,SACAD,QAAAA,MAAAA,EACA,CACA,EACA,oBACAE,EAAAA,IAAAA,KAAAA,QAAAA,EAAAA,KAAAA,IACA,EACAC,WACA,gBACA,eACA,oBACA,kBACA,CACAC,GAAAA,YACAC,QAAAA,MACAC,UAAAA,GACAC,gBAAAA,EACAC,OAAAA,KACAC,QAAAA,EACAC,cAAAA,EACAtB,SAAAA,KAAAA,QAAAA,aAAAA,KAAAA,IACAuB,EAAAA,gBAAAA,EACA,MAGA,CACAP,GAAAA,eACAC,QAAAA,SACAC,WAAAA,EACAC,gBAAAA,EACAC,OAAAA,KACAC,QAAAA,EACAC,cAAAA,IAGA,sCACA,4CACA,yCACA,mDACA,eACA,EACAE,eAAAA,GACA,uCACA,IC5H0P,I,UCQtPC,GAAY,OACd,EACAxD,EACAiC,GACA,EACA,KACA,KACA,MAIF,EAAeuB,EAAiB,O","sources":["webpack://el-table-virtual-scroll/./src/views/VTreeDemo3.vue","webpack://el-table-virtual-scroll/src/views/VTreeDemo3.vue","webpack://el-table-virtual-scroll/./src/views/VTreeDemo3.vue?a7c8","webpack://el-table-virtual-scroll/./src/views/VTreeDemo3.vue?8085"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"app-header\"},[_c('el-input',{nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onEnter.apply(null, arguments)}},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:\"inputVal\"}})],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"tableRef\",attrs:{\"data\":_vm.currentList,\"height\":\"calc(100vh - 150px)\",\"highlight-current-row\":true,\"expand-row-keys\":_vm.expandKeys,\"row-key\":\"id\",\"lazy\":\"\",\"load\":_vm.onload,\"tree-props\":{ children: 'children', hasChildren: '$v_hasChildren' }}},[_c('el-table-column',{ref:\"virtualColumn\",attrs:{\"prop\":\"product\"}}),_c('el-table-column',{attrs:{\"minWidth\":100,\"label\":\"随机名\",\"prop\":\"database\"}}),_c('el-table-column',{attrs:{\"minWidth\":100,\"label\":\"id\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"minWidth\":40,\"label\":\"排序\",\"prop\":\"rank\"}}),_c('el-table-column',{attrs:{\"minWidth\":60,\"label\":\"数据\",\"prop\":\"status\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div class=\"app-header\">\n      <!-- <el-input v-model=\"inputVal\" @change=\"locate\" /> -->\n      <!-- <el-button @click=\"expandFirst\">展开第一层</el-button> -->\n      <el-input v-model=\"inputVal\" @keydown.native.enter=\"onEnter\"></el-input>\n    </div>\n    <el-table\n      ref=\"tableRef\"\n      v-loading=\"loading\"\n      :data=\"currentList\"\n      height=\"calc(100vh - 150px)\"\n      :highlight-current-row=\"true\"\n      :expand-row-keys=\"expandKeys\"\n      row-key=\"id\"\n      lazy\n      :load=\"onload\"\n      :tree-props=\"{ children: 'children', hasChildren: '$v_hasChildren' }\">\n      <el-table-column\n        ref=\"virtualColumn\"\n        prop=\"product\">\n        <!-- <template slot-scope=\"{ row }\">\n          <div v-if=\"row['describe']\" style=\"line-height: 1.2em\">\n            <div>\n              {{ row[\"product\"] }}\n            </div>\n            <div style=\"color: grey; font-size: 12px\">\n              {{ row[\"describe\"] }}\n            </div>\n          </div>\n          <div v-else style=\"white-space: nowrap\">\n            {{ row[\"product\"] }}\n          </div>\n        </template> -->\n      </el-table-column>\n      <el-table-column :minWidth=\"100\" label=\"随机名\" prop=\"database\">\n        </el-table-column>\n        <el-table-column :minWidth=\"100\" label=\"id\" prop=\"id\">\n          </el-table-column>\n      <el-table-column :minWidth=\"40\" label=\"排序\" prop=\"rank\"></el-table-column>\n      <el-table-column :minWidth=\"60\" label=\"数据\" prop=\"status\">\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\n// import VirtualScroll, { VirtualColumn } from 'el-table-virtual-scroll'\nimport cloneDeep from 'lodash/cloneDeep'\nimport datamap from \"../datamap.json\"\nimport flatjson from \"../flatjson.json\"\n\nexport default {\n  name: \"App\",\n  components: {\n    // VirtualScroll,\n    // VirtualColumn,\n  },\n  data() {\n    return {\n      tableData: [],\n      currentList: [],\n      expandKeys: ['78__@@__2'],\n      loading: false,\n      flatNodeList: [], // flat node list\n      dataMap: {},\n      oneLevelExpandKeys: [],\n      cloneCurrentList: [],\n      inputVal: '',\n    };\n  },\n  mounted() {\n    this.inputVal = JSON.stringify(this.expandKeys)\n    this.initData();\n  },\n  methods: {\n    onEnter () {\n      console.log('onEnter')\n      try {\n        const val = JSON.parse(this.inputVal)\n        Array.isArray(val) && (this.expandKeys = val)\n      } catch (err) {\n        console.error(err)\n      }\n    },\n    async onload(row, treeNode, resolve) {\n      resolve(cloneDeep(this.dataMap[row.id] || []));\n    },\n    initData() {\n      this.loading = true;\n      this.dataMap = datamap;\n      this.flatNodeList = flatjson;\n      this.currentList = [\n        {\n          id: \"49__@@__1\",\n          product: \"产品线\",\n          productId: 49,\n          $v_hasChildren: true,\n          parent: null,\n          isRoot: true,\n          isAutoExpand: true,\n          children: this.dataMap['49__@@__1'].map(item => {\n            item.$v_hasChildren = true\n            return item\n          })\n        },\n        {\n          id: \"-1__@@__4690\",\n          product: \"未归类头部表\",\n          productId: -1,\n          $v_hasChildren: true,\n          parent: null,\n          isRoot: true,\n          isAutoExpand: true\n        },\n      ];\n      this.oneLevelExpandKeys = [\"49__@@__1\"];\n      this.cloneCurrentList = cloneDeep(this.currentList);\n      this.dataMap = Object.freeze(this.dataMap);\n      this.flatNodeList = Object.freeze(this.flatNodeList);\n      this.loading = false;\n    },\n    currentHandler(row) {\n      this.$refs[\"tableRef\"].setCurrentRow(row);\n    },\n  },\n};\n</script>\n\n<style>\n/* .cell {\n  display: flex;\n  align-items: center;\n  overflow: unset !important;\n} */\n\n/* .el-table .el-table__cell {\n  position: unset;\n  padding: 6px 0 !important;\n} */\n\n.visual-table {\n  width: 100%;\n  height: calc(100vh - 60px);\n  border: 1px solid #eee;\n  border-radius: 4px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VTreeDemo3.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VTreeDemo3.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VTreeDemo3.vue?vue&type=template&id=feae9a12&\"\nimport script from \"./VTreeDemo3.vue?vue&type=script&lang=js&\"\nexport * from \"./VTreeDemo3.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VTreeDemo3.vue?vue&type=style&index=0&id=feae9a12&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","nativeOn","$event","type","indexOf","_k","keyCode","key","onEnter","apply","arguments","model","value","inputVal","callback","$$v","expression","directives","name","rawName","loading","ref","currentList","expandKeys","onload","children","hasChildren","staticRenderFns","components","data","tableData","flatNodeList","dataMap","oneLevelExpandKeys","cloneCurrentList","mounted","methods","console","Array","resolve","initData","id","product","productId","$v_hasChildren","parent","isRoot","isAutoExpand","item","currentHandler","component"],"sourceRoot":""}