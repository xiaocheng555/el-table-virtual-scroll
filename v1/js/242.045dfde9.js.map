{"version":3,"file":"js/242.045dfde9.js","mappings":"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","sources":["webpack://el-table-virtual-scroll/./src/views/Test2.vue","webpack://el-table-virtual-scroll/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://el-table-virtual-scroll/./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://el-table-virtual-scroll/src/views/Test2.vue","webpack://el-table-virtual-scroll/./src/views/Test2.vue?4464","webpack://el-table-virtual-scroll/./src/views/Test2.vue?83b3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"custom-tree-table\"},[_c('el-table',{ref:\"tableDataRef\",attrs:{\"data\":_vm.tableData,\"max-height\":\"400\",\"row-key\":\"id\",\"border\":\"\",\"tree-props\":{ children: 'child' },\"default-expand-all\":\"\"}},[_c('el-table-column',{attrs:{\"width\":\"55\",\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"label\":\"参数名\",\"prop\":\"key\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [(row.isEdit)?_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(row.key),callback:function ($$v) {_vm.$set(row, \"key\", $$v)},expression:\"row.key\"}}):_c('span',[_vm._v(_vm._s(row.key))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"数据类型\",\"prop\":\"type\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [(row.isEdit)?_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":function($event){return _vm.handleDataTypeChange($event, row)}},model:{value:(row.type),callback:function ($$v) {_vm.$set(row, \"type\", $$v)},expression:\"row.type\"}},_vm._l((_vm.source.dataTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}})}),1):_c('span',[_vm._v(_vm._s(row.type))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row, $index }){return [_c('el-tooltip',{attrs:{\"hide-after\":_vm.hideAfter,\"open-delay\":_vm.openDelay,\"effect\":\"dark\",\"content\":\"添加\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.onAddSibling(row, $index)}}})],1),(row.type === 'object')?_c('el-tooltip',{attrs:{\"hide-after\":_vm.hideAfter,\"open-delay\":_vm.openDelay,\"effect\":\"dark\",\"content\":\"添加子节点\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){return _vm.onAddChild(row, $index)}}})],1):_vm._e(),(!row.isEdit)?_c('el-tooltip',{attrs:{\"hide-after\":_vm.hideAfter,\"open-delay\":_vm.openDelay,\"effect\":\"dark\",\"content\":\"编辑\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.onEdit(row, $index)}}})],1):_vm._e(),(row.isEdit)?_c('el-tooltip',{attrs:{\"hide-after\":_vm.hideAfter,\"open-delay\":_vm.openDelay,\"effect\":\"dark\",\"content\":\"保存\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-circle-check\"},on:{\"click\":function($event){return _vm.onSave(row, $index)}}})],1):_vm._e(),_c('el-tooltip',{attrs:{\"hide-after\":_vm.hideAfter,\"open-delay\":_vm.openDelay,\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.onDelete(row, $index)}}})],1)]}}])},[_c('template',{slot:\"header\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"hide-after\":500,\"effect\":\"dark\",\"content\":\"添加根节点\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.onAddRoot}})],1)],1)],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","<template>\n  <div class=\"custom-tree-table\">\n    <el-table\n      ref=\"tableDataRef\"\n      :data=\"tableData\"\n      max-height=\"400\"\n      row-key=\"id\"\n      border\n      :tree-props=\"{ children: 'child' }\"\n      default-expand-all\n    >\n      <el-table-column width=\"55\" align=\"center\" type=\"index\" label=\"序号\" />\n      <el-table-column label=\"参数名\" prop=\"key\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <el-input v-if=\"row.isEdit\" v-model=\"row.key\" placeholder=\"请输入\" />\n          <span v-else>{{ row.key }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"数据类型\" prop=\"type\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <el-select\n            v-if=\"row.isEdit\"\n            v-model=\"row.type\"\n            filterable\n            clearable\n            placeholder=\"请选择\"\n            style=\"width: 100%\"\n            @change=\"handleDataTypeChange($event, row)\"\n          >\n            <el-option\n              v-for=\"item in source.dataTypeOptions\"\n              :key=\"item.value\"\n              :value=\"item.value\"\n              :label=\"item.label\"\n            />\n          </el-select>\n          <span v-else>{{ row.type }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" min-width=\"100\">\n        <template slot=\"header\">\n          <el-tooltip\n            :hide-after=\"500\"\n            class=\"item\"\n            effect=\"dark\"\n            content=\"添加根节点\"\n            placement=\"top\"\n          >\n            <el-button\n              type=\"text\"\n              icon=\"el-icon-circle-plus-outline\"\n              @click=\"onAddRoot\"\n            />\n          </el-tooltip>\n        </template>\n        <template #default=\"{ row, $index }\">\n          <el-tooltip\n            :hide-after=\"hideAfter\"\n            :open-delay=\"openDelay\"\n            effect=\"dark\"\n            content=\"添加\"\n            placement=\"top\"\n          >\n            <el-button\n              type=\"text\"\n              icon=\"el-icon-plus\"\n              @click=\"onAddSibling(row, $index)\"\n            />\n          </el-tooltip>\n\n          <el-tooltip\n            v-if=\"row.type === 'object'\"\n            :hide-after=\"hideAfter\"\n            :open-delay=\"openDelay\"\n            effect=\"dark\"\n            content=\"添加子节点\"\n            placement=\"top\"\n          >\n            <el-button\n              type=\"text\"\n              icon=\"el-icon-circle-plus-outline\"\n              @click=\"onAddChild(row, $index)\"\n            />\n          </el-tooltip>\n\n          <el-tooltip\n            v-if=\"!row.isEdit\"\n            :hide-after=\"hideAfter\"\n            :open-delay=\"openDelay\"\n            effect=\"dark\"\n            content=\"编辑\"\n            placement=\"top\"\n          >\n            <el-button\n              type=\"text\"\n              icon=\"el-icon-edit\"\n              @click=\"onEdit(row, $index)\"\n            />\n          </el-tooltip>\n\n          <el-tooltip\n            v-if=\"row.isEdit\"\n            :hide-after=\"hideAfter\"\n            :open-delay=\"openDelay\"\n            effect=\"dark\"\n            content=\"保存\"\n            placement=\"top\"\n          >\n            <el-button\n              type=\"text\"\n              icon=\"el-icon-circle-check\"\n              @click=\"onSave(row, $index)\"\n            />\n          </el-tooltip>\n\n          <el-tooltip\n            :hide-after=\"hideAfter\"\n            :open-delay=\"openDelay\"\n            effect=\"dark\"\n            content=\"删除\"\n            placement=\"top\"\n          >\n            <el-button\n              type=\"text\"\n              icon=\"el-icon-delete\"\n              @click=\"onDelete(row, $index)\"\n            />\n          </el-tooltip>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CustomTreeTable',\n  data() {\n    return {\n      source: {\n        dataTypeOptions: [\n          { label: 'Array', value: 'array' },\n          { label: 'String', value: 'string' },\n          { label: 'Boolean', value: 'boolean' },\n          { label: 'Object', value: 'object' },\n          { label: 'Number', value: 'number' }\n        ]\n      },\n      hideAfter: 1500,\n      openDelay: 500,\n      // 数据示例\n      tableData: [\n        {\n          key: 'name',\n          type: 'string',\n          child: null\n        },\n        {\n          key: 'age',\n          type: 'integer',\n          child: null\n        },\n        {\n          key: 'response',\n          type: 'object',\n          child: [\n            {\n              key: 'childrenone',\n              type: 'string',\n              child: null\n            },\n            {\n              key: 'childrentwo',\n              type: 'boolean',\n              child: null\n            }\n          ]\n        },\n        {\n          key: 'address',\n          type: 'string',\n          child: null\n        }\n      ]\n    }\n  },\n  created() {\n    this.tableData = this.handleTableDataFormat(this.tableData)\n  },\n  methods: {\n    // 数据准备 生成 id 和 parentId\n    handleTableDataFormat(data) {\n      const tableFormat = (tableData, parentId) => {\n        tableData.forEach((item) => {\n          item.isEdit = false\n          item.parentId = parentId || '0'\n          item.id = this.generateId()\n          if (item.child && item.child.length > 0) {\n            tableFormat(item.child, item.id)\n          }\n        })\n      }\n\n      tableFormat(data)\n      console.log('Format tableData', data)\n      return data\n    },\n    /**\n     * 生成简单id 树形列表必须有id\n     */\n    generateId() {\n      return `id_${new Date().getTime()}${Math.floor(Math.random() * 10000)}`\n    },\n    // 数据类型改变\n    handleDataTypeChange(val, row) {\n      row.type = val\n      this.$set(row, 'type', val)\n      // 对象类型存在子节点\n      if (val === 'object') {\n        this.$set(row, 'child', [])\n      }\n    },\n    /**\n     * 生成一行数据\n     */\n    generateRow(parentId) {\n      return {\n        id: this.generateId(),\n        key: '',\n        type: '',\n        isEdit: true,\n        parentId\n      }\n    },\n    // 添加根节点\n    onAddRoot() {\n      this.tableData.push(this.generateRow('0'))\n    },\n    /**\n     * 处理添加一行数据\n     * @param {object} row 当前节点\n     * @param {number} index\n     * @param {string} type 操作类型 SIBLING 同级 / CHILD 子级\n     */\n    handleAddOneRow(row, index, type) {\n      const { parentId, id } = row\n      const curId = type === 'SIBLING' ? parentId : id\n      let curRow = {}\n      // 在 tableData 中，找到当前节点\n      const findRow = (data) => {\n        data.forEach((item) => {\n          if (item.id === curId) {\n            curRow = { ...item }\n          }\n          if (item.child && item.child.length) {\n            findRow(item.child)\n          }\n        })\n      }\n\n      findRow(this.tableData)\n\n      const { id: generateParentId, child } = curRow\n\n      if (child) {\n        child.push(this.generateRow(generateParentId))\n      } else {\n        this.$set(curRow, 'child', [this.generateRow(generateParentId)])\n      }\n    },\n    // 添加同级节点\n    onAddSibling(row, index) {\n      console.log('onAddSibling', row, index)\n      const { parentId } = row\n      // 先判断是不是根节点\n      if (parentId === '0') {\n        // 当前节点直接添加\n        this.tableData.push(this.generateRow('0'))\n      } else {\n        this.handleAddOneRow(row, index, 'SIBLING')\n      }\n    },\n    // 添加子节点  todo\n    onAddChild(row, index) {\n      this.handleAddOneRow(row, index, 'CHILD')\n    },\n    // 编辑\n    onEdit(row) {\n      this.$set(row, 'isEdit', true)\n    },\n    // 保存\n    onSave(row) {\n      this.$set(row, 'isEdit', false)\n    },\n    // 删除当前节点及对应子节点数据\n    onDelete(row) {\n      const msg =\n        '<div><span style=\"color: #F56C6C\">删除后将不可恢复</span>，你还要继续吗？</div>'\n      this.$confirm(msg, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        dangerouslyUseHTMLString: true,\n        type: 'warning'\n      })\n        .then(() => {\n          const { parentId, id } = row\n          // 根节点直接删除\n          if (parentId === '0') {\n            const delIndex = this.tableData.findIndex((item) => item.id === id)\n            this.tableData.splice(delIndex, 1)\n          } else {\n            // 找到父节点，通过父节点删除\n            let parentRow = {}\n            const findRow = (data) => {\n              data.forEach((item) => {\n                if (item.id === parentId) {\n                  parentRow = { ...item }\n                }\n                if (item.child && item.child.length) {\n                  findRow(item.child)\n                }\n              })\n            }\n            findRow(this.tableData)\n\n            const { child } = parentRow\n\n            const delIndex = child.findIndex((item) => item.id === id)\n\n            child.splice(delIndex, 1)\n          }\n        })\n        .catch(() => {})\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.custom-tree-table {\n  height: 100%;\n  background-color: #fff;\n  padding: 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Test2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Test2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Test2.vue?vue&type=template&id=354f3ba0&scoped=true&\"\nimport script from \"./Test2.vue?vue&type=script&lang=js&\"\nexport * from \"./Test2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Test2.vue?vue&type=style&index=0&id=354f3ba0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"354f3ba0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","tableData","children","scopedSlots","_u","key","fn","row","isEdit","model","value","callback","$$v","$set","expression","_v","_s","staticStyle","on","$event","handleDataTypeChange","type","_l","source","dataTypeOptions","item","label","$index","hideAfter","openDelay","onAddSibling","onAddChild","_e","onEdit","onSave","onDelete","slot","onAddRoot","staticRenderFns","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","name","data","child","created","methods","handleTableDataFormat","tableFormat","console","generateId","val","generateRow","parentId","id","handleAddOneRow","index","curRow","findRow","confirmButtonText","cancelButtonText","dangerouslyUseHTMLString","then","parentRow","catch","component"],"sourceRoot":""}