import{V as n}from"./el-table-virtual-column.vue_vue_type_style_index_0_lang-DWl8J-iF.js";import{n as o}from"./index-b4RXg8tS.js";var d=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",[t("el-alert",{attrs:{type:"warning",title:"virtual-column组件设type属性为selection","show-icon":""}}),t("virtual-scroll",{ref:"virtualScroll",attrs:{data:e.list,"item-size":62,"key-prop":"id"},on:{change:function(i){return e.tableData=i}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"500px",border:"","row-key":"id"}},[t("el-table-column",{attrs:{label:"id",prop:"id","class-name":"el-table__row--level"},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.row;return[t("span",{staticClass:"el-table__indent",style:{paddingLeft:a.level*16+"px"}}),a.hasChildren?t("div",{staticClass:"el-table__expand-icon",class:a.expanded?"el-table__expand-icon--expanded":"",on:{click:function(u){return e.onExpand(a)}}},[a.loading?t("i",{staticClass:"el-icon-loading"}):t("i",{staticClass:"el-icon-arrow-right"})]):t("span",{staticClass:"el-table__placeholder"}),e._v(" "+e._s(a.id)+" ")]}}])}),t("el-table-column",{attrs:{label:"内容",prop:"text"}}),t("el-table-column",{attrs:{label:"内容省略",prop:"text","show-overflow-tooltip":""}})],1)],1)],1)},r=[];const c={components:{VirtualScroll:n},data(){return{loading:!1,list:[],tableData:[],count:3e3}},methods:{fetchData(){this.loading=!0,this.list=[],setTimeout(()=>{this.list=[];for(let e=1;e<2e3;e++){const l=this.getRandomContent(),t=this.getRandomContent();this.list.push({id:e,text:l,text2:t,hasChildren:!0,expanded:!1,loading:!1,loaded:!1,level:1,hideNodes:[]})}this.loading=!1},1e3)},getRandomContent(){const e=["这是一条测试数据","君不见黄河之水天上来，奔流到海不复回。","十年生死两茫茫","寻寻觅觅，冷冷清清，凄凄惨惨戚戚。","桃花坞里桃花庵，桃花庵里桃花仙；桃花仙人种桃树，又摘桃花卖酒钱。","明月几时有，把酒问青天。","槛菊愁烟兰泣露，罗幕轻寒，","寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处，兰舟催发。执手相看泪眼，竟无语凝噎。念去去，千里烟波，暮霭沉沉楚天阔。多情自古伤离别，更那堪冷落清秋节！今宵酒醒何处？杨柳岸，晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？","红豆生南国，春来发几枝。","黄鹂"],l=Math.floor(Math.random()*10);return e[l]},onExpand(e){e.expanded=!e.expanded,e.expanded?this.loadChildNodes(e):this.hideChildNodes(e)},loadChildNodes(e){if(e.loaded){const l=this.list.findIndex(t=>t===e);l>-1&&this.list.splice(l+1,0,...e.hideNodes);return}e.loading=!0,setTimeout(()=>{e.loading=!1,e.loaded=!0;const l=[];for(let i=0;i<10;i++)l.push({id:this.count++,show:!1,text:this.getRandomContent(),text2:this.getRandomContent(),hasChildren:!(e.level>3),expanded:!1,loading:!1,level:e.level+1,hideNodes:[]});const t=this.list.findIndex(i=>i===e);t>-1&&this.list.splice(t+1,0,...l)},1e3)},hideChildNodes(e){const l=this.list.findIndex(i=>i===e);if(l===-1)return;const t=[];for(let i=l+1;i<this.list.length;i++){const a=this.list[i];if(a.level<=e.level)break;t.push(a)}e.hideNodes=t,this.list=this.list.filter(i=>!t.includes(i))}},created(){this.fetchData()}},s={};var h=o(c,d,r,!1,p,"10d193ea");function p(e){for(let l in s)this[l]=s[l]}const v=function(){return h.exports}();export{v as default};
//# sourceMappingURL=TreeDemo2-Db06mY69.js.map
