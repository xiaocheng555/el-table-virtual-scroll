import{V as s}from"./el-table-virtual-column.vue_vue_type_style_index_0_lang-BUcgPw7q.js";import{V as d}from"./el-table-virtual-column-CHZQPtN3.js";import{g as a}from"./utils-4sfz355c.js";import{n as c}from"./index-DdXaGUey.js";var u=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("el-alert",{attrs:{type:"warning",title:"virtual-column组件设type属性为 tree","show-icon":""}}),e("virtual-scroll",{ref:"virtualScroll",attrs:{data:t.list,"item-size":62,"key-prop":"id"},on:{"update:data":function(o){t.list=o},change:function(o){return t.tableData=o}}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"500px",border:"","tree-props":{hasChildren:"hasChildren",children:"children"},load:t.onload,"row-key":"id"}},[e("virtual-column",{attrs:{width:"500",label:"id",prop:"id",type:"tree"}}),e("el-table-column",{attrs:{width:"150",label:"懒加载节点",prop:"text"},scopedSlots:t._u([{key:"default",fn:function(o){var l=o.row;return[l.hasChildren?e("span",[t._v("lazy")]):e("span",[t._v("/")])]}}])}),e("el-table-column",{attrs:{label:"内容",prop:"text"}}),e("el-table-column",{attrs:{label:"操作",width:"260"},scopedSlots:t._u([{key:"default",fn:function(o){var l=o.row;return[e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onDel(l)}}},[t._v("删除")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onEdit(l)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.reload(l)}}},[t._v("reload")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.getChildNodes(l)}}},[t._v("子节点")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.getParentNodes(l)}}},[t._v("父节点")])]}}])})],1)],1),e("el-button",{on:{click:function(o){return t.loadNodes()}}},[t._v("加载前5个节点")])],1)},p=[];const f={components:{VirtualScroll:s,VirtualColumn:d},data(){return{loading:!1,list:a(1e3),tableData:[]}},methods:{onload(t,r,e){setTimeout(()=>{if(Math.random()>.5)return e([]);e(a(5,t.id))},1e3)},reload(t){this.$refs.virtualScroll.reloadNode(t)},onDel(t){const r=this.$refs.virtualScroll.getParentNode(t);r?r.children=r.children.filter(e=>e!==t):this.list=this.list.filter(e=>e!==t)},onEdit(t){t.text=t.text+"__编辑"},getChildNodes(t){const r=this.$refs.virtualScroll.getChildNodes(t);console.log("子节点：",r,r.map(e=>e.id))},getParentNodes(t){const r=this.$refs.virtualScroll.getParentNodes(t);console.log("父节点：",r,r.map(e=>e.id))},loadNodes(){[0,1,2,3,4].forEach(t=>{this.$refs.virtualScroll.reloadNode(this.list[t])})}},created(){console.log(this.list,"tree list")}},i={};var v=c(f,u,p,!1,h,"02ad0c77");function h(t){for(let r in i)this[r]=i[r]}const y=function(){return v.exports}();export{y as default};
//# sourceMappingURL=VTreeDemo-DbM_Edma.js.map
