import{V as l}from"./el-table-virtual-column.vue_vue_type_style_index_0_lang-DWl8J-iF.js";import{n as o}from"./index-b4RXg8tS.js";import{m as r}from"./utils-4sfz355c.js";var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("virtual-scroll",{ref:"virtualScroll",attrs:{data:e.list,"item-size":62,"key-prop":"id"},on:{change:e.onVirtualChange}},[t("el-table",{ref:"table",class:e.isExpanding?"is-expanding":"",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"600","row-key":"id","row-class-name":e.rowClassName},on:{"expand-change":e.onExpandChange}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t("el-form-item",{attrs:{label:"商品名称"}},[t("span",[e._v(e._s(a.row.name))])]),t("el-form-item",{attrs:{label:"所属店铺"}},[t("span",[e._v(e._s(a.row.shop))])]),t("el-form-item",{attrs:{label:"商品 ID"}},[t("span",[e._v(e._s(a.row.id))])]),t("el-form-item",{attrs:{label:"店铺 ID"}},[t("span",[e._v(e._s(a.row.shopId))])]),t("el-form-item",{attrs:{label:"商品分类"}},[t("span",[e._v(e._s(a.row.category))])]),t("el-form-item",{attrs:{label:"店铺地址"}},[t("span",[e._v(e._s(a.row.address))])]),t("el-form-item",{attrs:{label:"商品描述"}},[t("span",[e._v(e._s(a.row.desc))])])],1)]}}])}),t("el-table-column",{attrs:{label:"商品 ID",prop:"id"}}),t("el-table-column",{attrs:{label:"商品名称",prop:"name"}}),t("el-table-column",{attrs:{label:"描述",prop:"desc"}})],1)],1)],1)},d=[];const c={components:{VirtualScroll:l},data(){return{list:r(0,2e3),tableData:[],expandRows:[],isExpanding:!1}},methods:{rowClassName({row:e}){return`row_${e.id}`},async onVirtualChange(e){this.tableData=e,this.isExpanding=!0,await this.$nextTick(),this.expandRows.forEach(s=>{var t,a;(a=(t=this.$refs.table)==null?void 0:t.toggleRowExpansion)==null||a.call(t,s,!0)}),setTimeout(()=>{this.isExpanding=!1},10)},onExpandChange(e){const s=document.querySelector(`.row_${e.id}`);s&&(!s.className.includes("expanded")?this.expandRows.includes(e)||this.expandRows.push(e):this.expandRows=this.expandRows.filter(a=>a!==e))}}},n={};var m=o(c,i,d,!1,p,"75fb8bba");function p(e){for(let s in n)this[s]=n[s]}const h=function(){return m.exports}();export{h as default};
//# sourceMappingURL=ExpandDemo-C-6gITZe.js.map
