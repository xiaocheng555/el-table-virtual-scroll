import{V as s}from"./el-table-virtual-column.vue_vue_type_style_index_0_lang-VGVMlOYe.js";import{V as c}from"./el-table-virtual-column-Bpk12JGr.js";import{g as a}from"./utils-4sfz355c.js";import{n as u}from"./index-CGTLIXey.js";var d=function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",[e("div",[e("el-button",{on:{click:t.expandAll}},[t._v("展开全部")]),e("el-button",{on:{click:t.unexpandAll}},[t._v("收起全部")])],1),e("virtual-scroll",{ref:"virtualScroll",attrs:{data:t.list,"item-size":62,"key-prop":"id"},on:{"update:data":function(r){t.list=r},change:function(r){return t.tableData=r}}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"500px",border:"",lazy:"","default-sort":{prop:"count",order:"ascending"},"tree-props":{hasChildren:"hasChildren",children:"children"},load:t.onload,"row-key":"id"}},[e("virtual-column",{attrs:{width:"500",label:"id",prop:"id",type:"tree",sortable:""}}),e("el-table-column",{attrs:{label:"随机数",prop:"count",width:"300",sortable:"","column-key":"counts","filter-multiple":!1,filters:t.filters2,"filter-method":t.filterCount}}),e("el-table-column",{attrs:{label:"content",prop:"text",width:"500","column-key":"texts",filters:t.filters,"filter-method":t.filterText,"filtered-value":t.filteredValue}}),e("el-table-column",{attrs:{label:"操作",width:"260"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.row;return[e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onDel(o)}}},[t._v("删除")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onEdit(o)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.reload(o)}}},[t._v("reload")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.getChildNodes(o)}}},[t._v("子节点")]),e("el-button",{attrs:{type:"text"},on:{click:function(n){return t.getParentNodes(o)}}},[t._v("父节点")])]}}])})],1)],1),e("el-button",{on:{click:function(r){return t.clearSort()}}},[t._v("clearSort")]),e("el-button",{on:{click:function(r){return t.clearFilter()}}},[t._v("clearFilter")]),e("el-button",{on:{click:function(r){return t.sort()}}},[t._v("设置count降序排序")])],1)},f=[];const p={components:{VirtualScroll:s,VirtualColumn:c},data(){return{loading:!1,list:a(1e3),tableData:[],filteredValue:[],filters:[{text:"红豆",value:"红豆"},{text:"明月",value:"明月"},{text:"酒",value:"酒"},{text:"桃花",value:"桃花"}],filters2:[{text:">200",value:200},{text:">400",value:400},{text:">600",value:600},{text:">800",value:800}]}},methods:{onSortChange(t){console.log("onSortChange",t)},onFilterChange(t){console.log("onFilterChange",t)},filterCount(t,l,e){const r=e.property;return l[r]>t},filterText(t,l,e){const r=e.property;return l[r].includes(t)},clearSort(){this.$refs.table.clearSort()},clearFilter(){this.$refs.table.clearFilter()},sort(){this.$refs.table.sort("count","descending")},onload(t,l,e){setTimeout(()=>{if(Math.random()>.5)return e([]);e(a(5,t.id))},1e3)},reload(t){this.$refs.virtualScroll.reloadNode(t)},onDel(t){const l=this.$refs.virtualScroll.getParentNode(t);l?l.children=l.children.filter(e=>e!==t):this.list=this.list.filter(e=>e!==t)},onEdit(t){t.text=t.text+"__编辑"},getChildNodes(t){const l=this.$refs.virtualScroll.getChildNodes(t);console.log("子节点：",l,l.map(e=>e.id))},getParentNodes(t){const l=this.$refs.virtualScroll.getParentNodes(t);console.log("父节点：",l,l.map(e=>e.id))},unexpandAll(){this.$refs.virtualScroll.unexpandAllNodes()},expandAll(){this.$refs.virtualScroll.expandAllNodes()}},created(){console.log(this.list,"tree list")}},i={};var v=u(p,d,f,!1,h,"5833b52a");function h(t){for(let l in i)this[l]=i[l]}const g=function(){return v.exports}();export{g as default};
//# sourceMappingURL=VTreeSortDemo-CIQMHbiQ.js.map
